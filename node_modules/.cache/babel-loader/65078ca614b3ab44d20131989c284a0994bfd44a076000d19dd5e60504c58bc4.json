{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\David\\\\Downloads\\\\movie-recommendation-system-main\\\\movie-recommendation-system-main\\\\frontend\\\\src\\\\components\\\\CurtainOverlay.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { CurtainContext } from '../CurtainContext';\nimport '../styles/MoodSelectionPage.css'; // Uses curtain CSS styles\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CurtainOverlay = () => {\n  _s();\n  const {\n    showCurtain,\n    setShowCurtain,\n    nextRoute\n  } = useContext(CurtainContext);\n  const navigate = useNavigate();\n  const [animationFinished, setAnimationFinished] = useState(false);\n  const [audioFinished, setAudioFinished] = useState(false);\n  const audioRef = useRef(null);\n  useEffect(() => {\n    if (showCurtain) {\n      const audio = new Audio('/sounds/curtain.mp3');\n      audioRef.current = audio;\n      audio.volume = 0.7;\n      audio.onended = () => setAudioFinished(true);\n      audio.play().catch(err => {\n        console.warn('Audio play error:', err);\n        setAudioFinished(true);\n      });\n      const timer = setTimeout(() => setAnimationFinished(true), audio.duration * 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [showCurtain]);\n  useEffect(() => {\n    if (animationFinished && audioFinished && nextRoute) {\n      setShowCurtain(false);\n      navigate(nextRoute);\n    }\n  }, [animationFinished, audioFinished, nextRoute, navigate, setShowCurtain]);\n  return /*#__PURE__*/_jsxDEV(AnimatePresence, {\n    children: showCurtain && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"curtain curtain-left\",\n        initial: {\n          x: 0\n        },\n        animate: {\n          x: '-100%'\n        },\n        exit: {\n          x: '-100%'\n        },\n        transition: {\n          duration: 3,\n          ease: 'easeInOut'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"curtain curtain-right\",\n        initial: {\n          x: 0\n        },\n        animate: {\n          x: '100%'\n        },\n        exit: {\n          x: '100%'\n        },\n        transition: {\n          duration: 3,\n          ease: 'easeInOut'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n_s(CurtainOverlay, \"CO3GfFQrsRjDPPy34iiTyU3tN60=\", false, function () {\n  return [useNavigate];\n});\n_c = CurtainOverlay;\nexport default CurtainOverlay;\nvar _c;\n$RefreshReg$(_c, \"CurtainOverlay\");","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","useNavigate","motion","AnimatePresence","CurtainContext","jsxDEV","_jsxDEV","Fragment","_Fragment","CurtainOverlay","_s","showCurtain","setShowCurtain","nextRoute","navigate","animationFinished","setAnimationFinished","audioFinished","setAudioFinished","audioRef","audio","Audio","current","volume","onended","play","catch","err","console","warn","timer","setTimeout","duration","clearTimeout","children","div","className","initial","x","animate","exit","transition","ease","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/David/Downloads/movie-recommendation-system-main/movie-recommendation-system-main/frontend/src/components/CurtainOverlay.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { CurtainContext } from '../CurtainContext';\r\nimport '../styles/MoodSelectionPage.css'; // Uses curtain CSS styles\r\n\r\nconst CurtainOverlay = () => {\r\n    const { showCurtain, setShowCurtain, nextRoute } = useContext(CurtainContext);\r\n    const navigate = useNavigate();\r\n    const [animationFinished, setAnimationFinished] = useState(false);\r\n    const [audioFinished, setAudioFinished] = useState(false);\r\n    const audioRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (showCurtain) {\r\n            const audio = new Audio('/sounds/curtain.mp3');\r\n            audioRef.current = audio;\r\n            audio.volume = 0.7;\r\n\r\n            audio.onended = () => setAudioFinished(true);\r\n            audio.play().catch(err => {\r\n                console.warn('Audio play error:', err);\r\n                setAudioFinished(true);\r\n            });\r\n\r\n            const timer = setTimeout(() => setAnimationFinished(true), audio.duration * 1000);\r\n\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [showCurtain]);\r\n\r\n    useEffect(() => {\r\n        if (animationFinished && audioFinished && nextRoute) {\r\n            setShowCurtain(false);\r\n            navigate(nextRoute);\r\n        }\r\n    }, [animationFinished, audioFinished, nextRoute, navigate, setShowCurtain]);\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            {showCurtain && (\r\n                <>\r\n                    <motion.div\r\n                        className=\"curtain curtain-left\"\r\n                        initial={{ x: 0 }}\r\n                        animate={{ x: '-100%' }}\r\n                        exit={{ x: '-100%' }}\r\n                        transition={{ duration: 3, ease: 'easeInOut' }}\r\n                    />\r\n                    <motion.div\r\n                        className=\"curtain curtain-right\"\r\n                        initial={{ x: 0 }}\r\n                        animate={{ x: '100%' }}\r\n                        exit={{ x: '100%' }}\r\n                        transition={{ duration: 3, ease: 'easeInOut' }}\r\n                    />\r\n                </>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n};\r\n\r\nexport default CurtainOverlay;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}